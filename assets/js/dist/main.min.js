(() => {
  // assets/js/src/modules/navigation.js
  function initNavigation() {
    const mobileMenuToggle = document.querySelector("[data-mobile-menu-toggle]");
    const mobileMenuClose = document.querySelector("[data-mobile-menu-close]");
    const mobileMenu = document.getElementById("mobile-menu");
    const mobileMenuOverlay = document.querySelector("[data-mobile-menu-overlay]");
    if (!mobileMenu || !mobileMenuToggle)
      return;
    mobileMenuToggle.addEventListener("click", () => {
      mobileMenu.classList.add("is-open");
      mobileMenuOverlay?.classList.add("is-open");
      mobileMenuToggle.setAttribute("aria-expanded", "true");
      mobileMenu.setAttribute("aria-hidden", "false");
      document.body.style.overflow = "hidden";
    });
    const closeMobileMenu = () => {
      mobileMenu.classList.remove("is-open");
      mobileMenuOverlay?.classList.remove("is-open");
      mobileMenuToggle.setAttribute("aria-expanded", "false");
      mobileMenu.setAttribute("aria-hidden", "true");
      document.body.style.overflow = "";
    };
    mobileMenuClose?.addEventListener("click", closeMobileMenu);
    mobileMenuOverlay?.addEventListener("click", closeMobileMenu);
    document.addEventListener("keydown", (e) => {
      if (e.key === "Escape" && mobileMenu.classList.contains("is-open")) {
        closeMobileMenu();
      }
    });
    initStickyHeader();
  }
  function initStickyHeader() {
    const header = document.querySelector(".site-header.sticky");
    if (!header)
      return;
    let lastScroll = 0;
    const scrollThreshold = 100;
    window.addEventListener("scroll", () => {
      const currentScroll = window.pageYOffset;
      if (currentScroll <= 0) {
        header.classList.remove("header-hidden");
        return;
      }
      if (currentScroll > lastScroll && currentScroll > scrollThreshold) {
        header.classList.add("header-hidden");
      } else if (currentScroll < lastScroll) {
        header.classList.remove("header-hidden");
      }
      lastScroll = currentScroll;
    }, { passive: true });
  }

  // assets/js/src/modules/lazyload.js
  function initLazyLoad() {
    const lazyImages = document.querySelectorAll('img[loading="lazy"]');
    if ("loading" in HTMLImageElement.prototype) {
      lazyImages.forEach((img) => {
        img.classList.add("lazy-fade");
        if (img.complete) {
          img.classList.add("loaded");
        } else {
          img.addEventListener("load", () => {
            img.classList.add("loaded");
          }, { once: true });
        }
      });
    } else {
      const imageObserver = new IntersectionObserver((entries, observer) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            const img = entry.target;
            img.src = img.dataset.src || img.src;
            img.classList.add("loaded");
            observer.unobserve(img);
          }
        });
      });
      lazyImages.forEach((img) => {
        imageObserver.observe(img);
      });
    }
  }

  // assets/js/src/modules/theme-toggle.js
  function initThemeToggle() {
    const toggleButtons = document.querySelectorAll("[data-theme-toggle]");
    const html = document.documentElement;
    const savedTheme = localStorage.getItem("greenergy-theme");
    const systemPrefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
    if (savedTheme === "dark" || !savedTheme && systemPrefersDark) {
      html.classList.add("dark");
    }
    toggleButtons.forEach((button) => {
      button.addEventListener("click", () => {
        html.classList.toggle("dark");
        const isDark = html.classList.contains("dark");
        localStorage.setItem("greenergy-theme", isDark ? "dark" : "light");
      });
    });
    window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", (e) => {
      if (!localStorage.getItem("greenergy-theme")) {
        html.classList.toggle("dark", e.matches);
      }
    });
  }

  // assets/js/src/modules/counter.js
  var initCounter = () => {
    const counters = document.querySelectorAll(".js-counter");
    if (counters.length === 0)
      return;
    const countUp = (el) => {
      const target = parseFloat(el.getAttribute("data-target"));
      const duration = 2e3;
      const stepTime = 20;
      const steps = duration / stepTime;
      const increment = target / steps;
      let current = 0;
      const timer = setInterval(() => {
        current += increment;
        if (current >= target) {
          el.innerText = Math.floor(target).toLocaleString();
          clearInterval(timer);
        } else {
          el.innerText = Math.floor(current).toLocaleString();
        }
      }, stepTime);
    };
    const observerOptions = {
      threshold: 0.5
    };
    const observer = new IntersectionObserver((entries, observer2) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          countUp(entry.target);
          observer2.unobserve(entry.target);
        }
      });
    }, observerOptions);
    counters.forEach((counter) => {
      observer.observe(counter);
    });
  };

  // assets/js/src/main.js
  document.addEventListener("DOMContentLoaded", () => {
    initNavigation();
    initLazyLoad();
    initThemeToggle();
    initCounter();
    if (typeof AOS !== "undefined") {
      AOS.init({
        duration: 800,
        easing: "ease-in-out",
        once: true,
        offset: 50
      });
    }
  });
  window.Greenergy = {
    version: "1.0.0"
  };
})();
