(() => {
  // assets/js/src/blocks.js
  var { registerBlockType } = wp.blocks;
  var { __ } = wp.i18n;
  var { useBlockProps, InspectorControls, MediaUpload, MediaUploadCheck } = wp.blockEditor;
  var { PanelBody, TextControl, TextareaControl, ToggleControl, SelectControl, Button, Dashicon, FormTokenField, RangeControl } = wp.components;
  var { useSelect } = wp.data;
  var { useState, useEffect } = wp.element;
  var ServerSideRender = wp.serverSideRender;
  var { Fragment, createElement } = wp.element;
  console.log("Greenergy Blocks: Script starting v4 (With Read Also)...");
  var GreenergyImageControl = ({ label, imageUrl, imageId, onSelect, onSelectURL }) => {
    return createElement(
      "div",
      { style: { marginBottom: "15px" } },
      createElement("label", { style: { display: "block", marginBottom: "5px", fontWeight: "bold" } }, label),
      createElement(
        "div",
        { style: { display: "flex", gap: "10px", alignItems: "center" } },
        createElement(
          MediaUploadCheck,
          null,
          createElement(MediaUpload, {
            onSelect: (media) => onSelect(media),
            allowedTypes: ["image"],
            value: imageId,
            render: ({ open }) => createElement(
              Button,
              { isSecondary: true, onClick: open },
              imageId ? __("\u062A\u063A\u064A\u064A\u0631 \u0627\u0644\u0635\u0648\u0631\u0629", "greenergy") : __("\u0627\u062E\u062A\u064A\u0627\u0631 \u0645\u0646 \u0627\u0644\u0645\u0643\u062A\u0628\u0629", "greenergy")
            )
          })
        ),
        createElement(TextControl, {
          placeholder: __("\u0623\u0648 \u0623\u062F\u062E\u0644 \u0627\u0644\u0631\u0627\u0628\u0637...", "greenergy"),
          value: imageUrl,
          onChange: onSelectURL,
          style: { marginBottom: 0, flex: 1 }
        })
      ),
      (imageUrl || imageId) && createElement(
        "div",
        { style: { marginTop: "10px", textAlign: "center" } },
        createElement("img", {
          src: imageUrl || (imageId ? "placeholder" : ""),
          style: { maxWidth: "100%", maxHeight: "100px", borderRadius: "4px", border: "1px solid #ddd" }
        }),
        createElement(Button, {
          isDestructive: true,
          isLink: true,
          onClick: () => {
            onSelect({ id: 0, url: "" });
            onSelectURL("");
          }
        }, __("\u062D\u0630\u0641", "greenergy"))
      )
    );
  };
  var GreenergyPostSelection = ({ selectedPosts, onChange }) => {
    const [suggestions, setSuggestions] = useState([]);
    const { posts } = useSelect((select) => {
      return {
        posts: select("core").getEntityRecords("postType", "news", { per_page: 20, status: "publish" })
      };
    }, []);
    useEffect(() => {
      if (posts) {
        setSuggestions(posts.map((post) => post.title.raw));
      }
    }, [posts]);
    const onTokensChange = (tokens2) => {
      const newSelected = tokens2.map((token) => {
        const found = posts?.find((p) => p.title.raw === token);
        if (found)
          return { id: found.id, title: found.title.raw };
        const existing = selectedPosts.find((p) => p.title === token);
        if (existing)
          return existing;
        return null;
      }).filter(Boolean);
      onChange(newSelected);
    };
    const tokens = (selectedPosts || []).map((p) => {
      if (typeof p === "object" && p !== null)
        return p.title;
      return String(p);
    }).filter(Boolean);
    return createElement(
      Fragment,
      null,
      createElement("label", { style: { display: "block", marginBottom: "5px" } }, __("\u0627\u062E\u062A\u0631 \u0627\u0644\u0623\u062E\u0628\u0627\u0631", "greenergy")),
      createElement(FormTokenField, {
        value: tokens,
        suggestions,
        onChange: onTokensChange,
        __experimentalExpandOnFocus: true
      }),
      createElement("p", { className: "components-base-control__help" }, __("\u0627\u0628\u062D\u062B \u0639\u0646 \u0627\u0644\u062E\u0628\u0631...", "greenergy"))
    );
  };
  var GreenergyTermSelect = ({ label, taxonomy, selectedTermIds, onChange }) => {
    const [suggestions, setSuggestions] = useState([]);
    const [selectedTokens, setSelectedTokens] = useState([]);
    const { terms } = useSelect((select) => {
      return {
        terms: select("core").getEntityRecords("taxonomy", taxonomy, { per_page: 100 })
      };
    }, [taxonomy]);
    useEffect(() => {
      if (terms) {
        setSuggestions(terms.map((t) => t.name));
      }
    }, [terms]);
    useEffect(() => {
      if (terms && selectedTermIds) {
        const names = selectedTermIds.map((id) => {
          const term = terms.find((t) => t.id === id);
          return term ? term.name : null;
        }).filter(Boolean);
        setSelectedTokens(names);
      } else {
        setSelectedTokens([]);
      }
    }, [selectedTermIds, terms]);
    const onTokensChange = (tokens) => {
      const newIds = tokens.map((token) => {
        const term = terms?.find((t) => t.name === token);
        return term ? term.id : null;
      }).filter(Boolean);
      onChange(newIds);
    };
    return createElement(
      Fragment,
      null,
      createElement("label", { style: { display: "block", marginBottom: "5px" } }, label),
      createElement(FormTokenField, {
        value: selectedTokens,
        suggestions,
        onChange: onTokensChange,
        __experimentalExpandOnFocus: true
      })
    );
  };
  var GreenergyBlockEdit = (props) => {
    const { attributes, setAttributes, name } = props;
    const blockProps = useBlockProps();
    const updateAttribute = (key, val) => {
      setAttributes({ [key]: val });
    };
    const renderInspector = () => {
      switch (name) {
        case "greenergy/read-also":
          return createElement(
            PanelBody,
            { title: __("\u0625\u0639\u062F\u0627\u062F\u0627\u062A", "greenergy") },
            createElement(TextControl, { label: __("\u0627\u0644\u0639\u0646\u0648\u0627\u0646", "greenergy"), value: attributes.title, onChange: (val) => updateAttribute("title", val) }),
            createElement(SelectControl, {
              label: __("\u0637\u0631\u064A\u0642\u0629 \u0627\u0644\u0627\u062E\u062A\u064A\u0627\u0631", "greenergy"),
              value: attributes.selectionMode,
              options: [
                { label: __("\u062A\u0644\u0642\u0627\u0626\u064A (\u0630\u0648 \u0635\u0644\u0629)", "greenergy"), value: "auto" },
                { label: __("\u0627\u062E\u062A\u064A\u0627\u0631 \u064A\u062F\u0648\u064A", "greenergy"), value: "manual" }
              ],
              onChange: (val) => updateAttribute("selectionMode", val)
            }),
            createElement(RangeControl, {
              label: __("\u0639\u062F\u062F \u0627\u0644\u0623\u062E\u0628\u0627\u0631", "greenergy"),
              value: attributes.postsToShow,
              onChange: (val) => updateAttribute("postsToShow", val),
              min: 1,
              max: 10
            }),
            attributes.selectionMode === "manual" && createElement(GreenergyPostSelection, {
              selectedPosts: attributes.selectedPosts,
              onChange: (val) => updateAttribute("selectedPosts", val)
            }),
            attributes.selectionMode === "auto" && createElement(
              Fragment,
              null,
              createElement(
                "p",
                { className: "description", style: { marginBottom: "10px", fontStyle: "italic" } },
                __("\u0627\u062A\u0631\u0643\u0647 \u0641\u0627\u0631\u063A\u0627\u064B \u0644\u0644\u0643\u0634\u0641 \u0627\u0644\u062A\u0644\u0642\u0627\u0626\u064A \u062D\u0633\u0628 \u0627\u0644\u062E\u0628\u0631 \u0627\u0644\u062D\u0627\u0644\u064A.", "greenergy")
              ),
              createElement(GreenergyTermSelect, {
                label: __("\u062A\u0635\u0641\u064A\u0629 \u062D\u0633\u0628 \u0627\u0644\u062A\u0635\u0646\u064A\u0641 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)", "greenergy"),
                taxonomy: "news_category",
                selectedTermIds: attributes.queryCategories || [],
                onChange: (val) => updateAttribute("queryCategories", val)
              }),
              createElement(GreenergyTermSelect, {
                label: __("\u062A\u0635\u0641\u064A\u0629 \u062D\u0633\u0628 \u0627\u0644\u0648\u0633\u0645 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)", "greenergy"),
                taxonomy: "post_tag",
                selectedTermIds: attributes.queryTags || [],
                onChange: (val) => updateAttribute("queryTags", val)
              })
            )
          );
        case "greenergy/hero-block":
          return createElement(
            Fragment,
            null,
            createElement(
              PanelBody,
              { title: __("\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0639\u0627\u0645\u0629", "greenergy") },
              createElement(TextControl, { label: __("\u0646\u0635 \u0627\u0644\u0634\u0627\u0631\u0629", "greenergy"), value: attributes.badgeText, onChange: (val) => updateAttribute("badgeText", val) }),
              createElement(TextControl, { label: __("\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0628\u0627\u0631\u0632", "greenergy"), value: attributes.headlineHighlight, onChange: (val) => updateAttribute("headlineHighlight", val) }),
              createElement(TextControl, { label: __("\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0631\u0626\u064A\u0633\u064A", "greenergy"), value: attributes.headlineMain, onChange: (val) => updateAttribute("headlineMain", val) }),
              createElement(TextareaControl, { label: __("\u0627\u0644\u0648\u0635\u0641", "greenergy"), value: attributes.description, onChange: (val) => updateAttribute("description", val) }),
              createElement(TextControl, { label: __("\u0646\u0635 \u0627\u0644\u0632\u0631", "greenergy"), value: attributes.ctaText, onChange: (val) => updateAttribute("ctaText", val) }),
              createElement(TextControl, { label: __("\u0631\u0627\u0628\u0637 \u0627\u0644\u0632\u0631", "greenergy"), value: attributes.ctaUrl, onChange: (val) => updateAttribute("ctaUrl", val) }),
              createElement(GreenergyImageControl, {
                label: __("\u0635\u0648\u0631\u0629 \u0627\u0644\u0647\u064A\u0631\u0648", "greenergy"),
                imageUrl: attributes.imageUrl,
                imageId: attributes.imageId,
                onSelect: (media) => setAttributes({ imageId: media.id, imageUrl: media.url }),
                onSelectURL: (val) => updateAttribute("imageUrl", val)
              })
            ),
            createElement(
              PanelBody,
              { title: __("\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A", "greenergy"), initialOpen: false },
              createElement(SelectControl, {
                label: __("\u0637\u0631\u064A\u0642\u0629 \u0639\u0631\u0636 \u0627\u0644\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A", "greenergy"),
                value: attributes.viewMode,
                options: [
                  { label: __("\u062B\u0627\u0628\u062A (\u064A\u062F\u0648\u064A)", "greenergy"), value: "static" },
                  { label: __("\u0648\u0642\u062A \u062D\u0642\u064A\u0642\u064A (\u0642\u0627\u0639\u062F\u0629 \u0628\u064A\u0627\u0646\u0627\u062A)", "greenergy"), value: "real" }
                ],
                onChange: (val) => updateAttribute("viewMode", val)
              }),
              attributes.viewMode === "static" && createElement(
                Fragment,
                null,
                createElement("div", { style: { fontWeight: "bold", marginBottom: "10px" } }, __("\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A \u064A\u062F\u0648\u064A\u0629", "greenergy")),
                attributes.stats.map((stat, index) => createElement(
                  "div",
                  { key: index, style: { padding: "10px", border: "1px solid #eee", marginBottom: "10px" } },
                  createElement(TextControl, {
                    label: __("\u0627\u0644\u0642\u064A\u0645\u0629", "greenergy"),
                    value: stat.value,
                    onChange: (v) => {
                      const newStats = [...attributes.stats];
                      newStats[index].value = v;
                      setAttributes({ stats: newStats });
                    }
                  }),
                  createElement(TextControl, {
                    label: __("\u0627\u0644\u062A\u0633\u0645\u064A\u0629", "greenergy"),
                    value: stat.label,
                    onChange: (v) => {
                      const newStats = [...attributes.stats];
                      newStats[index].label = v;
                      setAttributes({ stats: newStats });
                    }
                  })
                )),
                createElement("div", { style: { fontWeight: "bold", margin: "15px 0 10px" } }, __("\u0627\u0644\u0645\u0631\u0628\u0639 \u0627\u0644\u0623\u0632\u0631\u0642 \u0627\u0644\u0645\u0645\u064A\u0632", "greenergy")),
                createElement(TextControl, { label: __("\u0627\u0644\u0642\u064A\u0645\u0629", "greenergy"), value: attributes.featuredStat.value, onChange: (v) => setAttributes({ featuredStat: { ...attributes.featuredStat, value: v } }) }),
                createElement(TextControl, { label: __("\u0627\u0644\u062A\u0633\u0645\u064A\u0629", "greenergy"), value: attributes.featuredStat.label, onChange: (v) => setAttributes({ featuredStat: { ...attributes.featuredStat, label: v } }) })
              )
            )
          );
        case "greenergy/stories":
          const stories = attributes.stories || [];
          return createElement(
            PanelBody,
            { title: __("\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0642\u0635\u0635", "greenergy") },
            stories.map((story, index) => createElement(
              "div",
              { key: index, style: { marginBottom: "20px", padding: "10px", border: "1px solid #ddd", borderRadius: "4px" } },
              createElement(
                "div",
                { style: { display: "flex", justifyContent: "space-between", marginBottom: "10px" } },
                createElement("strong", null, `${__("\u0642\u0635\u0629 #", "greenergy")}${index + 1}`),
                createElement(Button, {
                  isDestructive: true,
                  isSmall: true,
                  onClick: () => {
                    const newStories = [...stories];
                    newStories.splice(index, 1);
                    setAttributes({ stories: newStories });
                  }
                }, __("\u062D\u0630\u0641", "greenergy"))
              ),
              createElement(TextControl, {
                label: __("\u0627\u0644\u062A\u0633\u0645\u064A\u0629", "greenergy"),
                value: story.label,
                onChange: (val) => {
                  const newStories = [...stories];
                  newStories[index].label = val;
                  setAttributes({ stories: newStories });
                }
              }),
              createElement(GreenergyImageControl, {
                label: __("\u0635\u0648\u0631\u0629 \u0627\u0644\u0642\u0635\u0629", "greenergy"),
                imageUrl: story.image,
                imageId: story.imageId,
                onSelect: (media) => {
                  const newStories = [...stories];
                  newStories[index].imageId = media.id;
                  newStories[index].image = media.url;
                  setAttributes({ stories: newStories });
                },
                onSelectURL: (val) => {
                  const newStories = [...stories];
                  newStories[index].image = val;
                  setAttributes({ stories: newStories });
                }
              })
            )),
            createElement(Button, {
              isPrimary: true,
              onClick: () => {
                setAttributes({ stories: [...stories, { label: "\u0642\u0635\u0629 \u062C\u062F\u064A\u062F\u0629", image: "", imageId: 0, link: "#" }] });
              }
            }, __("\u0623\u0636\u0641 \u0642\u0635\u0629 \u062C\u062F\u064A\u062F\u0629", "greenergy"))
          );
        case "greenergy/most-read-news":
          return createElement(
            Fragment,
            null,
            createElement(
              PanelBody,
              { title: __("\u0637\u0631\u064A\u0642\u0629 \u0627\u0644\u0639\u0631\u0636", "greenergy") },
              createElement(SelectControl, {
                label: __("\u0646\u0645\u0637 \u0627\u0644\u0627\u062E\u062A\u064A\u0627\u0631", "greenergy"),
                value: attributes.selectionMode,
                options: [
                  { label: __("\u062A\u0644\u0642\u0627\u0626\u064A (\u0627\u0644\u0623\u0643\u062B\u0631 \u0642\u0631\u0627\u0621\u0629)", "greenergy"), value: "auto" },
                  { label: __("\u064A\u062F\u0648\u064A (\u062A\u062D\u062F\u064A\u062F \u0644\u0643\u0644 \u0642\u0633\u0645)", "greenergy"), value: "manual" }
                ],
                onChange: (val) => updateAttribute("selectionMode", val)
              })
            ),
            attributes.selectionMode === "manual" ? createElement(
              Fragment,
              null,
              createElement(
                PanelBody,
                { title: __("\u0627\u0644\u0639\u0645\u0648\u062F \u0627\u0644\u0623\u064A\u0645\u0646", "greenergy"), initialOpen: false },
                createElement(GreenergyPostSelection, {
                  selectedPosts: attributes.selectedPostsRight,
                  onChange: (val) => updateAttribute("selectedPostsRight", val)
                })
              ),
              createElement(
                PanelBody,
                { title: __("\u0627\u0644\u0645\u0646\u062A\u0635\u0641 (\u0627\u0644\u0633\u0644\u0627\u064A\u062F\u0631 \u0627\u0644\u0639\u0644\u0648\u064A)", "greenergy"), initialOpen: false },
                createElement(GreenergyPostSelection, {
                  selectedPosts: attributes.selectedPostsCenterTop,
                  onChange: (val) => updateAttribute("selectedPostsCenterTop", val)
                })
              ),
              createElement(
                PanelBody,
                { title: __("\u0627\u0644\u0645\u0646\u062A\u0635\u0641 (\u0627\u0644\u0633\u0644\u0627\u064A\u062F\u0631 \u0627\u0644\u0633\u0641\u0644\u064A)", "greenergy"), initialOpen: false },
                createElement(GreenergyPostSelection, {
                  selectedPosts: attributes.selectedPostsCenterBottom,
                  onChange: (val) => updateAttribute("selectedPostsCenterBottom", val)
                })
              ),
              createElement(
                PanelBody,
                { title: __("\u0627\u0644\u0639\u0645\u0648\u062F \u0627\u0644\u0623\u064A\u0633\u0631", "greenergy"), initialOpen: false },
                createElement(GreenergyPostSelection, {
                  selectedPosts: attributes.selectedPostsLeft,
                  onChange: (val) => updateAttribute("selectedPostsLeft", val)
                })
              )
            ) : createElement(
              PanelBody,
              { title: __("\u0623\u0639\u062F\u0627\u062F \u0627\u0644\u0623\u062E\u0628\u0627\u0631 (\u062A\u0644\u0642\u0627\u0626\u064A)", "greenergy") },
              createElement(RangeControl, { label: __("\u0639\u062F\u062F \u0623\u062E\u0628\u0627\u0631 \u0627\u0644\u064A\u0645\u064A\u0646", "greenergy"), value: attributes.rightCount, onChange: (val) => updateAttribute("rightCount", val), min: 0, max: 10 }),
              createElement(RangeControl, { label: __("\u0639\u062F\u062F \u0627\u0644\u0633\u0644\u0627\u064A\u062F\u0631 \u0627\u0644\u0639\u0644\u0648\u064A", "greenergy"), value: attributes.centerTopCount, onChange: (val) => updateAttribute("centerTopCount", val), min: 1, max: 10 }),
              createElement(RangeControl, { label: __("\u0639\u062F\u062F \u0627\u0644\u0633\u0644\u0627\u064A\u062F\u0631 \u0627\u0644\u0633\u0641\u0644\u064A", "greenergy"), value: attributes.centerBottomCount, onChange: (val) => updateAttribute("centerBottomCount", val), min: 1, max: 10 }),
              createElement(RangeControl, { label: __("\u0639\u062F\u062F \u0623\u062E\u0628\u0627\u0631 \u0627\u0644\u064A\u0633\u0627\u0631", "greenergy"), value: attributes.leftCount, onChange: (val) => updateAttribute("leftCount", val), min: 0, max: 10 })
            ),
            createElement(
              PanelBody,
              { title: __("\u0646\u0635\u0648\u0635 \u0627\u0644\u0642\u0633\u0645", "greenergy"), initialOpen: false },
              createElement(TextControl, { label: __("\u0646\u0635 \u0627\u0644\u0634\u0627\u0631\u0629", "greenergy"), value: attributes.badgeText, onChange: (val) => updateAttribute("badgeText", val) }),
              createElement(TextareaControl, { label: __("\u0627\u0644\u0648\u0635\u0641", "greenergy"), value: attributes.description, onChange: (val) => updateAttribute("description", val) }),
              createElement(TextControl, { label: __("\u0646\u0635 \u0627\u0644\u0632\u0631", "greenergy"), value: attributes.buttonText, onChange: (val) => updateAttribute("buttonText", val) })
            )
          );
        case "greenergy/latest-news":
        case "greenergy/courses":
        case "greenergy/jobs":
          return createElement(
            PanelBody,
            { title: __("\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0642\u0633\u0645", "greenergy") },
            createElement(TextControl, { label: __("\u0646\u0635 \u0627\u0644\u0634\u0627\u0631\u0629", "greenergy"), value: attributes.badgeText, onChange: (val) => updateAttribute("badgeText", val) }),
            name === "greenergy/courses" && createElement(TextControl, { label: __("\u0627\u0644\u0639\u0646\u0648\u0627\u0646", "greenergy"), value: attributes.title, onChange: (val) => updateAttribute("title", val) }),
            createElement(TextareaControl, { label: __("\u0627\u0644\u0648\u0635\u0641", "greenergy"), value: attributes.description, onChange: (val) => updateAttribute("description", val) }),
            name !== "greenergy/latest-news" && createElement(TextControl, { label: __("\u0646\u0635 \u0627\u0644\u0632\u0631", "greenergy"), value: attributes.buttonText, onChange: (val) => updateAttribute("buttonText", val) }),
            createElement(GreenergyImageControl, {
              label: __("\u0635\u0648\u0631\u0629 \u0627\u0644\u062E\u0644\u0641\u064A\u0629 (\u0627\u062E\u062A\u064A\u0627\u0631\u064A)", "greenergy"),
              imageUrl: attributes.imageUrl,
              imageId: attributes.imageId,
              onSelect: (media) => setAttributes({ imageId: media.id, imageUrl: media.url }),
              onSelectURL: (val) => updateAttribute("imageUrl", val)
            })
          );
        case "greenergy/stats":
          return createElement(
            PanelBody,
            { title: __("\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A", "greenergy") },
            createElement(TextControl, { label: __("\u0627\u0644\u0639\u0646\u0648\u0627\u0646", "greenergy"), value: attributes.title, onChange: (val) => updateAttribute("title", val) }),
            createElement(TextareaControl, { label: __("\u0627\u0644\u0648\u0635\u0641", "greenergy"), value: attributes.description, onChange: (val) => updateAttribute("description", val) })
          );
        case "greenergy/featured-news":
          return createElement(
            PanelBody,
            { title: __("\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0639\u0631\u0636", "greenergy") },
            createElement(SelectControl, {
              label: __("\u0646\u0645\u0637 \u0627\u0644\u0627\u062E\u062A\u064A\u0627\u0631", "greenergy"),
              value: attributes.selectionMode,
              options: [
                { label: __("\u0627\u0644\u064A", "greenergy"), value: "dynamic" },
                { label: __("\u0627\u062E\u062A\u064A\u0627\u0631 \u064A\u062F\u0648\u064A", "greenergy"), value: "manual" }
              ],
              onChange: (val) => updateAttribute("selectionMode", val)
            }),
            createElement(RangeControl, {
              label: __("\u0639\u062F\u062F \u0627\u0644\u0623\u062E\u0628\u0627\u0631", "greenergy"),
              value: attributes.count,
              onChange: (val) => updateAttribute("count", val),
              min: 1
            }),
            attributes.selectionMode === "manual" && createElement(GreenergyPostSelection, {
              selectedPosts: attributes.selectedPosts,
              onChange: (val) => updateAttribute("selectedPosts", val)
            }),
            attributes.selectionMode === "dynamic" && createElement(GreenergyTermSelect, {
              label: __("\u062A\u0635\u0641\u064A\u0629 \u062D\u0633\u0628 \u0627\u0644\u062A\u0635\u0646\u064A\u0641", "greenergy"),
              taxonomy: "news_category",
              selectedTermIds: attributes.queryCategories || [],
              onChange: (val) => updateAttribute("queryCategories", val)
            }),
            attributes.selectionMode === "dynamic" && createElement(SelectControl, {
              label: __("\u062A\u0631\u062A\u064A\u0628 \u062D\u0633\u0628", "greenergy"),
              value: attributes.orderBy,
              options: [
                { label: __("\u0627\u0644\u0627\u062D\u062F\u062B", "greenergy"), value: "latest" },
                { label: __("\u0627\u0644\u0627\u0642\u062F\u0645", "greenergy"), value: "oldest" },
                { label: __("\u0627\u0644\u0627\u0643\u062B\u0631 \u0642\u0631\u0627\u0621\u0629", "greenergy"), value: "popular" },
                { label: __('\u062D\u0633\u0628 \u0642\u0633\u0645 "\u062A\u0631\u062A\u064A\u0628 \u062D\u0633\u0628"', "greenergy"), value: "url_parameter" }
              ],
              onChange: (val) => updateAttribute("orderBy", val)
            })
          );
        case "greenergy/news-grid":
          return createElement(
            PanelBody,
            { title: __("\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0639\u0631\u0636", "greenergy") },
            createElement(TextControl, { label: __("\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0642\u0633\u0645", "greenergy"), value: attributes.title, onChange: (val) => updateAttribute("title", val) }),
            createElement(RangeControl, {
              label: __("\u0639\u062F\u062F \u0627\u0644\u0623\u062E\u0628\u0627\u0631", "greenergy"),
              value: attributes.count,
              onChange: (val) => updateAttribute("count", val),
              min: 1,
              max: 20
            })
          );
        case "greenergy/news-list":
          return createElement(
            PanelBody,
            { title: __("\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0639\u0631\u0636", "greenergy") },
            createElement(TextControl, { label: __("\u0627\u0644\u0639\u0646\u0648\u0627\u0646 \u0627\u0644\u0642\u0633\u0645", "greenergy"), value: attributes.title, onChange: (val) => updateAttribute("title", val) }),
            createElement(RangeControl, {
              label: __("\u0639\u062F\u062F \u0627\u0644\u0623\u062E\u0628\u0627\u0631", "greenergy"),
              value: attributes.count,
              onChange: (val) => updateAttribute("count", val),
              min: 1,
              max: 20
            }),
            createElement(RangeControl, {
              label: __("\u0627\u0644\u0625\u0632\u0627\u062D\u0629 (Offset)", "greenergy"),
              value: attributes.offset,
              onChange: (val) => updateAttribute("offset", val),
              min: 0,
              max: 20
            }),
            createElement(GreenergyTermSelect, {
              label: __("\u062A\u0635\u0641\u064A\u0629 \u062D\u0633\u0628 \u0627\u0644\u062A\u0635\u0646\u064A\u0641", "greenergy"),
              taxonomy: "news_category",
              selectedTermIds: attributes.queryCategories || [],
              onChange: (val) => updateAttribute("queryCategories", val)
            })
          );
        default:
          return null;
      }
    };
    const renderPreview = () => {
      if (name === "greenergy/stories") {
        const stories = attributes.stories || [];
        return createElement(
          "div",
          { className: "flex gap-4 overflow-x-auto p-4 bg-gray-50 rounded-lg" },
          stories.map((story, i) => createElement(
            "div",
            { key: i, className: "flex-none text-center" },
            createElement(
              "div",
              { className: "w-16 h-16 rounded-full border-2 border-brand-green p-0.5 overflow-hidden mx-auto" },
              createElement("img", { src: story.image || "placeholder", className: "w-full h-full object-cover rounded-full" })
            ),
            createElement("span", { className: "text-xs mt-1 block font-bold" }, story.label)
          ))
        );
      }
      return createElement(ServerSideRender, { block: name, attributes });
    };
    return createElement(
      Fragment,
      null,
      createElement(InspectorControls, null, renderInspector()),
      createElement("div", { ...blockProps }, renderPreview())
    );
  };
  var blocks = [
    // homepage blocks
    { name: "hero-block", title: __("\u0642\u0633\u0645 \u0627\u0644\u0647\u064A\u0631\u0648", "greenergy"), icon: "cover-image" },
    { name: "stories", title: __("\u0642\u0635\u0635 \u062C\u0631\u064A\u0646\u0631\u062C\u064A", "greenergy"), icon: "groups" },
    { name: "courses", title: __("\u062F\u0648\u0631\u0627\u062A \u062C\u0631\u064A\u0646\u0631\u062C\u064A", "greenergy"), icon: "welcome-learn-more" },
    { name: "jobs", title: __("\u0648\u0638\u0627\u0626\u0641 \u062C\u0631\u064A\u0646\u0631\u062C\u064A", "greenergy"), icon: "businessman" },
    { name: "latest-news", title: __("\u0622\u062E\u0631 \u0623\u062E\u0628\u0627\u0631 \u062C\u0631\u064A\u0646\u0631\u062C\u064A", "greenergy"), icon: "admin-post" },
    {
      name: "most-read-news",
      title: __("\u0627\u0644\u0623\u0643\u062B\u0631 \u0642\u0631\u0627\u0621\u0629", "greenergy"),
      icon: "megaphone",
      attributes: {
        badgeText: { type: "string", default: "\u0627\u0644\u0623\u0643\u062B\u0631 \u0642\u0631\u0627\u0621\u0629" },
        description: { type: "string", default: "\u0627\u0633\u062A\u0643\u0634\u0641 \u0623\u0628\u0631\u0632 \u0627\u0644\u0623\u062E\u0628\u0627\u0631 \u0627\u0644\u062A\u064A \u062D\u0638\u064A\u062A \u0628\u0627\u0647\u062A\u0645\u0627\u0645 \u0627\u0644\u0642\u0631\u0627\u0621 \u0641\u064A \u0639\u0627\u0644\u0645 \u0627\u0644\u0637\u0627\u0642\u0629 \u0627\u0644\u0645\u062A\u062C\u062F\u062F\u0629\u060C \u0645\u0646 \u0627\u0644\u0645\u0634\u0627\u0631\u064A\u0639 \u0627\u0644\u0639\u0645\u0644\u0627\u0642\u0629 \u0625\u0644\u0649 \u0623\u062D\u062F\u062B \u0627\u0644\u0627\u0628\u062A\u0643\u0627\u0631\u0627\u062A \u0627\u0644\u0628\u064A\u0626\u064A\u0629." },
        buttonText: { type: "string", default: "\u0639\u0631\u0636 \u062C\u0645\u064A\u0639 \u0627\u0644\u0627\u062E\u0628\u0627\u0631" },
        selectionMode: { type: "string", default: "auto" },
        leftCount: { type: "number", default: 3 },
        rightCount: { type: "number", default: 3 },
        centerTopCount: { type: "number", default: 2 },
        centerBottomCount: { type: "number", default: 2 },
        selectedPostsLeft: { type: "array", default: [] },
        selectedPostsRight: { type: "array", default: [] },
        selectedPostsCenterTop: { type: "array", default: [] },
        selectedPostsCenterBottom: { type: "array", default: [] }
      }
    },
    { name: "stats", title: __("\u0625\u062D\u0635\u0627\u0626\u064A\u0627\u062A \u0639\u0627\u0644\u0645\u064A\u0629", "greenergy"), icon: "chart-area" },
    // news page blocks
    { name: "news-filter", title: __("\u062A\u0635\u0641\u064A\u0629 \u0627\u0644\u0623\u062E\u0628\u0627\u0631", "greenergy"), icon: "filter" },
    {
      name: "featured-news",
      title: __("\u0623\u062E\u0628\u0627\u0631 \u0645\u0645\u064A\u0632\u0629", "greenergy"),
      icon: "cover-image",
      attributes: {
        count: { type: "number", default: 1 },
        selectionMode: { type: "string", default: "dynamic" },
        selectedPosts: { type: "array", default: [] },
        queryCategories: { type: "array", default: [] },
        orderBy: { type: "string", default: "latest" }
      }
    },
    {
      name: "news-list",
      title: __("\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0623\u062E\u0628\u0627\u0631", "greenergy"),
      icon: "list-view",
      attributes: {
        count: { type: "number", default: 5 },
        offset: { type: "number", default: 0 },
        title: { type: "string", default: "\u0622\u062E\u0631 \u0627\u0644\u0623\u062E\u0628\u0627\u0631" },
        queryCategories: { type: "array", default: [] }
      }
    },
    {
      name: "news-grid",
      title: __("\u0634\u0628\u0643\u0629 \u0627\u0644\u0623\u062E\u0628\u0627\u0631", "greenergy"),
      icon: "grid-view",
      attributes: {
        count: { type: "number", default: 3 },
        title: { type: "string", default: "\u0627\u062E\u0628\u0627\u0631 \u0627\u062E\u0631\u0649" },
        queryCategories: { type: "array", default: [] }
      }
    },
    { name: "sidebar", title: __("\u062D\u0627\u0648\u064A\u0629 \u0627\u0644\u0634\u0631\u064A\u0637 \u0627\u0644\u062C\u0627\u0646\u0628\u064A", "greenergy"), icon: "sidebar" },
    { name: "directory-widget", title: __("\u0648\u062F\u062C\u062A \u0627\u0644\u062F\u0644\u064A\u0644", "greenergy"), icon: "building" },
    { name: "courses-widget", title: __("\u0648\u062F\u062C\u062A \u0627\u0644\u062F\u0648\u0631\u0627\u062A", "greenergy"), icon: "book" },
    { name: "featured-jobs-widget", title: __("\u0648\u062F\u062C\u062A \u0627\u0644\u0648\u0638\u0627\u0626\u0641 \u0627\u0644\u0645\u0645\u064A\u0632\u0629", "greenergy"), icon: "businessman" },
    { name: "follow-us-widget", title: __("\u0648\u062F\u062C\u062A \u062A\u0627\u0628\u0639\u0646\u0627", "greenergy"), icon: "share" },
    { name: "breadcrumb", title: __("\u0641\u062A\u0627\u062A \u0627\u0644\u062E\u0628\u0632", "greenergy"), icon: "admin-home" },
    { name: "main-banner", title: __("\u0627\u0644\u0644\u0627\u0641\u062A\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629", "greenergy"), icon: "cover-image" },
    {
      name: "read-also",
      title: __("\u0627\u0642\u0631\u0623 \u0623\u064A\u0636\u0627\u064B", "greenergy"),
      icon: "book",
      attributes: {
        title: { type: "string", default: "\u0627\u0642\u0631\u0623 \u0623\u064A\u0636\u0627" },
        selectionMode: { type: "string", default: "auto" },
        postsToShow: { type: "number", default: 3 },
        selectedPosts: { type: "array", default: [] },
        queryCategories: { type: "array", default: [], items: { type: "number" } },
        queryTags: { type: "array", default: [], items: { type: "number" } }
      }
    },
    // theme blocks
    { name: "scroll-progress", title: __("\u0645\u0624\u0634\u0631 \u0627\u0644\u062A\u0645\u0631\u064A\u0631", "greenergy"), icon: "upload" }
  ];
  blocks.forEach((b) => {
    try {
      const registrationArgs = {
        title: b.title,
        icon: b.icon,
        category: "greenergy-blocks",
        edit: (props) => GreenergyBlockEdit({ ...props, name: `greenergy/${b.name}` }),
        save: () => null
      };
      if (b.attributes) {
        registrationArgs.attributes = b.attributes;
      }
      registerBlockType(`greenergy/${b.name}`, registrationArgs);
      console.log(`Registered block: greenergy/${b.name}`);
    } catch (e) {
      console.error(`Failed to register block: greenergy/${b.name}`, e);
    }
  });
  registerBlockType("greenergy/ad-block", {
    title: __("\u0643\u062A\u0644\u0629 \u0625\u0639\u0644\u0627\u0646", "greenergy"),
    icon: "megaphone",
    category: "greenergy-blocks",
    edit: ({ attributes, setAttributes }) => {
      const blockProps = useBlockProps();
      const { adType, imageUrl, imageId, adLink, adCode, fullWidth } = attributes;
      return createElement(
        Fragment,
        null,
        createElement(
          InspectorControls,
          null,
          createElement(
            PanelBody,
            { title: __("\u0625\u0639\u062F\u0627\u062F\u0627\u062A \u0627\u0644\u0625\u0639\u0644\u0627\u0646", "greenergy") },
            createElement(SelectControl, {
              label: __("\u0646\u0648\u0639 \u0627\u0644\u0625\u0639\u0644\u0627\u0646", "greenergy"),
              value: adType,
              options: [
                { label: __("\u0635\u0648\u0631\u0629 \u0644\u0627\u0641\u062A\u0629", "greenergy"), value: "image" },
                { label: __("\u0643\u0648\u062F \u0645\u062E\u0635\u0635 (HTML/JS)", "greenergy"), value: "code" }
              ],
              onChange: (val) => setAttributes({ adType: val })
            }),
            adType === "image" && createElement(
              Fragment,
              null,
              createElement(GreenergyImageControl, {
                label: __("\u0635\u0648\u0631\u0629 \u0627\u0644\u0644\u0627\u0641\u062A\u0629", "greenergy"),
                imageUrl,
                imageId,
                onSelect: (media) => setAttributes({ imageId: media.id, imageUrl: media.url }),
                onSelectURL: (val) => setAttributes({ imageUrl: val })
              }),
              createElement(TextControl, { label: __("\u0631\u0627\u0628\u0637 \u0627\u0644\u0648\u062C\u0647\u0629", "greenergy"), value: adLink, onChange: (val) => setAttributes({ adLink: val }) })
            ),
            adType === "code" && createElement(TextareaControl, { label: __("\u0643\u0648\u062F \u0627\u0644\u0625\u0639\u0644\u0627\u0646", "greenergy"), value: adCode, onChange: (val) => setAttributes({ adCode: val }) }),
            createElement(TextControl, {
              label: __("\u0627\u0644\u0627\u0631\u062A\u0641\u0627\u0639 (\u0645\u062B\u0644\u0627\u064B: 10rem, 200px)", "greenergy"),
              value: attributes.height,
              onChange: (val) => setAttributes({ height: val }),
              help: __("\u062D\u062F\u062F \u0627\u0631\u062A\u0641\u0627\u0639 \u062D\u0627\u0648\u064A\u0629 \u0627\u0644\u0625\u0639\u0644\u0627\u0646.", "greenergy")
            }),
            createElement(ToggleControl, { label: __("\u0639\u0631\u0636 \u0643\u0627\u0645\u0644", "greenergy"), checked: fullWidth, onChange: (val) => setAttributes({ fullWidth: val }) })
          )
        ),
        createElement(
          "div",
          { ...blockProps },
          createElement(ServerSideRender, { block: "greenergy/ad-block", attributes })
        )
      );
    },
    save: () => null
  });
})();
