/**
 * Greenergy Theme - Main CSS Entry Point
 * 
 * This file contains Tailwind directives and imports.
 * Component styles use @apply for reusable patterns.
 * 
 * @package Greenergy
 */

/* =========================================
   TAILWIND DIRECTIVES
   ========================================= */
@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================================
   COMPONENT IMPORTS
   ========================================= */
/* @import './components/buttons.css';
@import './components/forms.css';
@import './components/cards.css';
@import './components/navigation.css';
@import './components/swiper.css'; */


/* =========================================
   BASE LAYER OVERRIDES
   Minimal global styles only
   ========================================= */
@layer base {

    /* Smooth scrolling */
    html {
        @apply scroll-smooth;
    }

    /* RTL font switching */
    html[dir="rtl"] body {
        @apply font-arabic;
    }

    /* Base body styles */
    body {
        @apply antialiased bg-white text-secondary-800;
    }

    /* Focus visible for accessibility */
    :focus-visible {
        @apply outline-2 outline-offset-2 outline-primary-500;
    }

    /* Skip link */
    .skip-link {
        @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-tooltip focus:bg-primary focus:text-white focus:px-4 focus:py-2 focus:rounded-lg;
    }


    /* Link defaults */
    a {
        @apply text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 transition-colors duration-200;
    }

    /* Image defaults */
    img {
        @apply max-w-full h-auto;
    }
}


/* =========================================
   UTILITIES LAYER
   Custom utility classes
   ========================================= */
@layer utilities {

    /* Text balance for headings */
    .text-balance {
        text-wrap: balance;
    }

    /* Line clamp utilities */
    .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .line-clamp-3 {
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    /* Container query ready */
    .container-query {
        container-type: inline-size;
    }

    .swiper-pagination-bullet {
        @apply w-2 h-2 !bg-gray-500 opacity-100 transition-colors duration-300;
    }

    .swiper-pagination-bullet-active {
        background-color: #15803d !important;
        opacity: 1 !important;
    }

    /* Navigation Buttons Customization if needed */
    .swiper-button-next,
    .swiper-button-prev {
        @apply text-green-600 hover:text-green-700 transition-colors;
    }

    .swiper-button-next::after,
    .swiper-button-prev::after {
        font-size: 1.5rem;
        font-weight: bold;
    }

    /* news content */
    .new-content * {
        @apply text-black;
    }

    .new-content p {
        @apply text-black;
    }

    .new-content h1 {
        @apply text-2xl max-md:text-lg;
    }

    .new-content h2 {
        @apply text-xl max-md:text-lg;
    }

    .new-content h3 {
        @apply text-lg max-md:text-base;
    }

    .new-content h4 {
        @apply text-base max-md:text-sm;
    }

    .new-content h5 {
        @apply text-sm max-md:text-[12px];
    }

    .new-content h6 {
        @apply text-[12px] max-md:text-[10px];
    }

    .new-content ul {
        @apply list-disc pr-8;
    }


    .new-content ol {
        @apply list-decimal pr-8;
    }

    /* Job Section Styles */
    .job-section-container {
        @apply mb-8 bg-white;
        border: 1px solid #f1f5f9; /* slate-100 */
    }

    .job-section-container h1,
    .job-section-container h2,
    .job-section-container h3 {
        @apply text-2xl font-bold mb-6 text-neutral-900 relative pr-0 !important;
        line-height: 1.4;
    }

    /* Green accent line under the title */
    .job-section-container h3::after {
        content: "";
        @apply block w-12 h-1 bg-primary-500 mt-2 rounded-full;
    }

    .job-section-content {
        @apply text-stone-600 leading-relaxed;
    }

    .job-section-content p {
        @apply mb-4 text-base;
    }

    /* List Systems */
    /* List Styles - Ultra-Bold Fix */
    [class*="list-style-"] ul,
    [class*="list-style-"] ol,
    .job-section-content ul,
    .job-section-content ol {
        list-style: none !important;
        padding-right: 0 !important;
        margin-right: 0 !important;
        counter-reset: job-item !important;
        overflow: visible !important;
    }

    [class*="list-style-"] li,
    .job-list-item-edit li,
    .job-section-content li {
        position: relative !important;
        padding-right: 2rem !important; /* Increased for safety */
        margin-bottom: 1.25rem !important;
        list-style-type: none !important;
        display: block !important;
        min-height: 1.5rem;
        overflow: visible !important;
    }

    /* Markers Base - Absolute Visibility */
    [class*="list-style-"] li::before,
    .job-list-item-edit li::before,
    .job-section-content li::before,
    li[class*="icon-type-"]::before {
        content: "â€¢" !important; /* Fallback character always present */
        position: absolute !important;
        right: 0 !important;
        top: 0 !important;
        width: 2rem !important;
        height: 1.5rem !important;
        display: flex !important;
        align-items: center;
        justify-content: center;
        color: #16a34a !important; /* green-600 */
        font-family: inherit;
        pointer-events: none;
    }

    /* Numbers - Using a scoped counter */
    .list-style-numbers li::before {
        content: counter(job-item) "." !important;
        counter-increment: job-item !important;
        font-weight: 800 !important;
        font-size: 1.1rem !important;
    }

    /* Bullets */
    .list-style-bullets li::before {
        content: "\2022" !important;
        font-size: 2.5rem !important;
    }

    /* Icon Logic - Overriding with FontAwesome if available */
    .list-style-icons li::before,
    [class*="icon-type-"] li::before,
    li[class*="icon-type-"]::before {
        font-family: "Font Awesome 5 Free", "Font Awesome 5 Pro", sans-serif !important;
        font-weight: 900 !important;
        font-size: 1.25rem !important;
        content: "\f058" !important; /* Check circle fallback icon */
    }

    /* Individual Icon Glyph Mappings */
    .icon-type-certificate li::before, li.icon-type-certificate::before, .icon-type-certificate.job-section-edit li::before, .icon-type-certificate.job-list-item-edit .item-icon-preview::before { content: "\f5a0" !important; }
    .icon-type-design li::before, li.icon-type-design::before, .icon-type-design.job-section-edit li::before, .icon-type-design.job-list-item-edit .item-icon-preview::before { content: "\f53f" !important; }
    .icon-type-development li::before, li.icon-type-development::before, .icon-type-development.job-section-edit li::before, .icon-type-development.job-list-item-edit .item-icon-preview::before { content: "\f121" !important; }
    .icon-type-car li::before, li.icon-type-car::before, .icon-type-car.job-section-edit li::before, .icon-type-car.job-list-item-edit .item-icon-preview::before { content: "\f1b9" !important; }
    .icon-type-insurance li::before, li.icon-type-insurance::before, .icon-type-insurance.job-section-edit li::before, .icon-type-insurance.job-list-item-edit .item-icon-preview::before { content: "\f3ed" !important; }
    .icon-type-gift li::before, li.icon-type-gift::before, .icon-type-gift.job-section-edit li::before, .icon-type-gift.job-list-item-edit .item-icon-preview::before { content: "\f06b" !important; }
    .icon-type-check li::before, li.icon-type-check::before, .icon-type-check.job-section-edit li::before, .icon-type-check.job-list-item-edit .item-icon-preview::before { content: "\f00c" !important; }
    .icon-type-star li::before, li.icon-type-star::before, .icon-type-star.job-section-edit li::before, .icon-type-star.job-list-item-edit .item-icon-preview::before { content: "\f005" !important; }

    /* Editor Preview Helper */
    .job-list-item-edit .item-icon-preview::before {
        font-family: "Font Awesome 5 Free" !important;
        font-weight: 900 !important;
        font-size: 1rem;
        color: #16a34a;
    }

    /* Premium AJAX Loader */
    .js-ajax-grid {
        @apply relative transition-all duration-500;
    }

    .ajax-loader {
        @apply absolute inset-0 flex flex-col items-center justify-center bg-white/40 backdrop-blur-md z-50 rounded-3xl transition-all duration-500 opacity-0 pointer-events-none;
        background-image: radial-gradient(circle at center, rgba(22, 163, 74, 0.05) 0%, transparent 70%);
    }

    .js-ajax-grid.is-loading .ajax-loader {
        @apply opacity-100 pointer-events-auto;
    }

    .ajax-loader-container {
        @apply relative flex flex-col items-center gap-6 p-10 bg-white/80 rounded-[40px] shadow-2xl border border-white/50 scale-90 transition-transform duration-500;
    }

    .js-ajax-grid.is-loading .ajax-loader-container {
        @apply scale-100;
    }

    .ajax-loader-spinner-wrapper {
        @apply relative w-20 h-20;
    }

    .ajax-loader-spinner {
        @apply absolute inset-0 border-[3px] border-primary-100 border-t-primary-600 rounded-full animate-spin;
        animation-duration: 0.8s;
    }

    .ajax-loader-logo {
        @apply absolute inset-4 bg-gradient-to-br from-primary-500 to-green-700 rounded-2xl flex items-center justify-center text-white shadow-lg animate-pulse shadow-primary-500/20;
    }

    .ajax-loader-text {
        @apply text-secondary-900 font-black text-xl tracking-tight;
        font-family: 'DIN Next LT Arabic Medium', sans-serif;
    }

    .ajax-loader-dots {
        @apply flex gap-1.5 mt-2;
    }

    .ajax-loader-dot {
        @apply w-2 h-2 bg-primary-500 rounded-full animate-bounce;
    }

    .ajax-loader-dot:nth-child(2) { animation-delay: 0.2s; }
    .ajax-loader-dot:nth-child(3) { animation-delay: 0.4s; }
}